前提：
    1、当前的历史管理类中的处理，仅仅只能处理单个用户对上单个AI，缺乏高并发的异步处理。
    2、而且当前的视线，是硬读一个历史文件，每次加入新的历史记录，都需要凑头裁剪，而每次裁剪，都需要平凡的计算token，不论是时间和内存都被大量浪费了。
    3、当前的实现并不能持久化，记录数据，仅能记录少量的数据，一旦开始裁剪，一开始的问题，就找不到了，开始新的对话，当前的历史数据也会丢失。
解决：
    1、首先我想的是队列+字典+数据库，这个是整个数据结构的基调，或许后续会根据实际开发方便，性能优化，加入数据表、结构体、类什么的。
    2、数据库，顾名思义为了管理数据持久化，每次插入新的数据，就同步一份数据到数据库之中，而考虑到后续高并发的问题，并开发难度，选择MySQL。
    3、接着我们字典替换JSON文件的管理，虽然内存的占用变高了，但是速度是成倍变快。字典和JSON的格式相差无几